# mj-helper

mahjong mapping

```
0-8 1-9筒
9-17 1-9索
18-26 1-9萬
27 東
28 南
29 西
30 北
31 中
32 發
33 白
34 春
35 夏
36 秋
37 冬
38 梅
39 蘭
40 竹
41 菊
```

API samples

```json
GET /
{ "status": 0 }

POST /hu
{
  "mj": [10,11,12,20,21,21,22,22,23,23,23,24,25,25,27,27],
  "getmj": 24
}
{ "hu": 1 }

POST /hu_tai
{
  "mj": [28,28,28,29,29,29,30,30,30,32,32,32,33],
  "dmj": [[3,[27,27,27]]],
  "getmj": 33
}
{
  "tai": {
    "七搶一": 0,
    "三元台": 1,
    "三暗刻": 0,
    "五暗刻": 0,
    "人胡": 0,
    "全求人": 0,
    "八仙過海": 0,
    "半求人": 0,
    "單吊": 1,
    "四暗刻": 5,
    "圈風台": 0,
    "地聽": 0,
    "地胡": 0,
    "大三元": 0,
    "大四喜": 16,
    "天聽": 0,
    "天胡": 0,
    "字一色": 8,
    "對對胡": 4,
    "小三元": 0,
    "小四喜": 0,
    "平胡": 0,
    "搶槓": 0,
    "槓上開花": 0,
    "正花": 0,
    "河底撈魚": 0,
    "海底撈月": 0,
    "混一色": 1,
    "清一色": 0,
    "自摸": 0,
    "花槓": 0,
    "莊家": 0,
    "連-1拉-1": 0,
    "門清": 0,
    "門清自摸": 0,
    "門風台": 0
  }
}
```

hu_result library

```python
# 是否胡牌 (0=未胡 1=胡)
is_hu = hu_result.hu([0,0,0,1,1,2,3,4,4,4,4,5,6,6,7,8], 1)
print(is_hu)

# 胡牌台數
result = hu_result.hu_result(
  [1,1,2,3,4,4,4,4,5,6],           # mj 手牌
  [[0, [6,8,7]], [2, [0,0,0]]],    # dmj 搭 0=吃 1=明槓 2=暗槓 3=碰
  1,                               # hnum 0=閒家 1=莊家 2+=連莊
  1,                               # first_turn 回合
  [],                              # hmj 花
  0,                               # circle 圈 0=東 1=南 2=西 3=北
  0,                               # door 開門 0=東 1=南 2=西 3=北
  False,                           # bool_last 海底
  1,                               # getmj 摸到的牌
  0,                               # first_hear 1=天聽 2=地聽
  None,                            # drophu 槍牌
  False,                           # hhu 花胡
  False,                           # bool_akong 搶槓
  False                            # bool_pkong 槓上開花
)
print(result.table)
```
